<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>نتایج تجزیه و تحلیل</title>
    <style>
      @font-face {
        font-family: "lalehzar";
        src: url("/static/fonts/Lalezar-Font/TTF/Lalezar-Regular.ttf")
            format("truetype"),
          url("/static/fonts/Lalezar-Font/OTF/Lalezar-Regular.otf")
            format("opentype");
      }
      body {
        direction: rtl;
        font-family: "lalehzar";
        margin: 0;
        padding: 0;
        background-color: #f0f7ff;
        color: #333;
      }

      table {
        margin-top: 20px;
        width: 50%;
        border-collapse: collapse;
        margin-bottom: 20px;
        background-color: #f0f7ff;
        border: 1px solid #ccc;
        border-radius: 5px;
        overflow: hidden;
        margin-left: auto;
        margin-right: auto;
      }

      th,
      td {
        border: 1px solid #ddd;
        text-align: center;
        padding: 6px;
      }

      th {
        background-color: #1e3799;
        color: #fff;
      }

      td {
        background-color: #fff;
      }

      tbody tr:nth-child(even) td {
        background-color: #e3efff;
      }

      h1,
      h2 {
        text-align: center;
        color: #235a82;
      }
      ul {
        list-style-type: none;
        padding: 0;
      }
      li {
        margin-bottom: 10px;
      }
      .details {
        margin-top: 20px;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        background-color: #fff;
      }
      .details p {
        margin: 5px 0;
      }
      .details .low {
        color: #ff0000;
      }
      .details .high {
        color: #ff8800;
      }
      .patient-info {
        text-align: right;
        margin-right: 20px;
        background-color: #f0f7ff;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }
      .patient-info h1 {
        color: #235a82;
      }
      .patient-info h3 {
        color: #333;
      }
      .patient-info p {
        color: #555;
      }
      .red-text {
        color: red;
      }
      .explain-txt {
        text-align: center;
        color: red;
        direction: rtl;
      }
      .high {
        color: red;
      }

      .low {
        color: #ffc312;
      }

      .normal {
        color: green;
      }
      .detail-txt2 {
        font-size: 20px;
        text-align: center;
        color: #c23616;
      }
    </style>
  </head>
  <body>
    <div class="patient-info">
      <h1>نتایج تجزیه و تحلیل</h1>
      <h3>اطلاعات بیمار:</h3>
      <p>سن: {{ age }}</p>
      <p>جنسیت: {{ gender }}</p>
      <p>سابقه بیماری: {{ sickness }}</p>
    </div>

    <table>
      <thead>
        <tr>
          <th>پارامتر</th>
          <th>نتیجه</th>
          <th>مقدار مرجع</th>
          <th>وضعیت</th>
        </tr>
      </thead>
      <tbody>
        {% for parameter, data in blood_test_results.items() %}
        <tr>
          <td>{{ parameter }}</td>
          <td>{{ data.result }}</td>
          <td>{{ data.reference_value }}</td>
          <td
            class="{% if analysis[parameter] == 'بالا' %} high {% elif analysis[parameter] == 'کم' %} low {% elif analysis[parameter] == 'نرمال' %} normal {% endif %}"
          >
            {{ analysis[parameter] }}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <h3 class="explain-txt">
      {% if 'GLUCOSE, FASTING' in analysis.keys() %} GLUCOSE, FASTING به معنی
      قند خون ناشتا است. این آزمایش معمولاً صبح زود و پس از نخوردن هر گونه غذا
      به انجام می‌رسد. مقدار زیاد یا کم بودن قند خون ناشتا می‌تواند نشان دهنده
      مشکلات مختلف در سلامتی باشد. {% endif %}
    </h3>

    <div class="details">
      <h2>جزئیات برای پارامترهای خارج از محدوده مرجع</h2>
      <ul>
        {% for parameter, result in analysis.items() %} {% if result != 'نرمال'
        %}
        <li style="text-align: center" class="{{ result|lower }}">
          {{ parameter }}:
          <br />
          <span style="color: red">{{ result }}</span>
          {% if result == 'کم' %} {% if parameter == 'GLUCOSE, FASTING' %}
          <br />
          مقدار آزمایش کمتر از محدوده مرجع است. نیاز به مشاوره پزشکی دارد.
          <br />
          مقدار کم قند خون ناشتا (هیپوگلیسمی) نیز مشکلی است و ممکن است منجر به
          علائمی نظیر سردرد، گیجی، اضطراب، تعریق بیش از حد، تپش قلب، و در موارد
          شدید‌تر، از دست دادن هوش شود. {% endif %} {% elif result == 'بالا' %}
          {% if parameter == 'GLUCOSE, FASTING' %}
          <br />
          مقدار آزمایش بیشتر از محدوده مرجع است. نیاز به مشاوره پزشکی دارد.
          <br />
          مقدار زیاد قند خون ناشتا (هایپرگلیسمی) می‌تواند نشانگر دیابت باشد یا
          نشاندهنده عدم کنترل صحیح بر دیابت موجود باشد. در صورت بالا بودن قند
          خون به مدت طولانی و بدون کنترل، ممکن است منجر به مشکلاتی مانند آسیب به
          عروق خونی، نارسایی کلیه، مشکلات دید و اختلالات عصبی شود. {% endif %}
          {% endif %}
        </li>
        {% endif %} {% endfor %} {% if analysis['Packed Cell Volume (PCV)'] ==
        'بالا' %}
        <div class="detail-txt2">
          <p>
            Packed Cell Volume (PCV) بالا: ممکن است نشانگر مشکلاتی در خون یا
            سیستم قلبی-عروقی باشد، مانند پلی‌سیتمیا یا آبسه قلبی. این وضعیت
            معمولاً نیاز به ارزیابی دقیق توسط پزشک دارد تا علت دقیق بالا بودن
            PCV مشخص شود و برنامه درمانی مناسب انتخاب شود.
          </p>
          {% endif %} {% if analysis['Packed Cell Volume (PCV)'] == 'پایین' %}
          <p>
            Packed Cell Volume (PCV) پایین: کمبود PCV معمولاً نشانه‌ای از
            کم‌خونی است، که می‌تواند ناشی از کمبود آهن، فقر آهن، کمبود ویتامین
            B12 یا فولات، خونریزی یا مشکلات نخاع خون باشد. این وضعیت نیاز به
            ارزیابی توسط پزشک دارد تا علت دقیق کمبود PCV مشخص شود و برنامه
            درمانی مشخص شود، که ممکن است شامل تغذیه مناسب، مکمل‌های ویتامینی، یا
            درمان خاص باشد.
          </p>
          {% endif %} {% if analysis['Mean Corpuscular Volume (MCV)'] == 'بالا'
          %}
          <p>
            MCV بالا: افزایش MCV ممکن است نشان دهنده اضافه بودن هموگلوبین در هر
            سلول خونی باشد. این ممکن است به دلیل عواملی مانند سرماخوردگی شدید،
            سیاه‌زخم، خونریزی مزمن، یا کمبود آب در بدن باشد. افزایش MCH همچنین
            ممکن است ناشی از بیماری‌های خونی مانند آنمیا نورموسیتیک مگالوبلاستیک
            باشد.
          </p>
          {% endif %} {% if analysis['Mean Corpuscular Volume (MCV)'] == 'کم' %}
          <p>
            MCV کم: کمبود MCH ممکن است به معنای کمبود هموگلوبین در هر سلول خونی
            باشد. این ممکن است ناشی از عواملی مانند کم‌خونی نقص آهن، کمبود
            ویتامین B12 یا فولات، یا بیماری‌های خونی مانند تالاسمیا باشد.
          </p>
          {% endif %} {% if analysis['MCH'] == 'بالا' %}
          <p>
            MCH بالا: افزایش MCH ممکن است نشان دهنده اضافه بودن هموگلوبین در هر
            سلول خونی باشد. این ممکن است به دلیل عواملی مانند سرماخوردگی شدید،
            سیاه‌زخم، خونریزی مزمن، یا کمبود آب در بدن باشد. افزایش MCH همچنین
            ممکن است ناشی از بیماری‌های خونی مانند آنمیا نورموسیتیک مگالوبلاستیک
            باشد.
          </p>
          {% endif %} {% if analysis['MCH'] == 'کم' %}
          <p>
            MCH کم: کمبود MCH ممکن است به معنای کمبود هموگلوبین در هر سلول خونی
            باشد. این ممکن است ناشی از عواملی مانند کم‌خونی نقص آهن، کمبود
            ویتامین B12 یا فولات، یا بیماری‌های خونی مانند تالاسمیا باشد.
          </p>
          {% endif %} {% if analysis['MCHC'] == 'بالا' %}
          <p>
            MCHC بالا: افزایش MCHC معمولاً به عنوان پدیده‌ای نادر دیده می‌شود و
            ممکن است به عواملی مانند آلودگی خون با زغال فعال، خطاهای آزمایشگاهی
            یا بیماری‌های نادری که تأثیری بر هموگلوبین دارند، نسبت داده شود. این
            وضعیت نیاز به بررسی‌های دقیق‌تر و مشورت با پزشک دارد.
          </p>
          {% endif %} {% if analysis['MCHC'] == 'کم' %}
          <p>
            MCHC کم: کمبود MCHC معمولاً به کمبود هموگلوبین در هر سلول خونی نشان
            می‌دهد. این ممکن است ناشی از عواملی مانند کم‌خونی نقص آهن، کمبود
            ویتامین B12 یا فولات، یا بیماری‌های خونی مانند تالاسمیا باشد. این
            وضعیت می‌تواند به کاهش توانایی خون برای حمل اکسیژن منجر شود که ممکن
            است باعث ایجاد علائمی مانند خستگی، ضعف و ایاق شود.
          </p>
          {% endif %} {% if analysis['RDW'] == 'بالا' %}
          <p>
            RDW بالا: افزایش RDW ممکن است نشانگر نامتعادل بودن اندازه سلول‌های
            خونی باشد. این ممکن است ناشی از مشکلاتی مانند کمبود آهن، کمبود
            ویتامین B12 یا فولات، عفونت‌های خونی، کم‌خونی نورموسیتیک یا سایر
            بیماری‌های خونی باشد. همچنین، بعضی از بیماری‌های کبدی و کلیوی نیز
            ممکن است باعث افزایش RDW شوند.
          </p>
          {% endif %} {% if analysis['RDW'] == 'کم' %}
          <p>
            RDW کم: کمبود RDW ممکن است ناشی از مشکلات خونی خاصی باشد، اما
            معمولاً به عنوان یک علامت غیرنرمال تلقی می‌شود که نیاز به بررسی
            بیشتر دارد. در برخی از موارد، کاهش RDW ممکن است به علت نقص در آزمایش
            یا برخی از شرایط نادر خونی باشد.
          </p>
          {% endif %} {% if analysis['RDW'] == 'بالا' %}
          <p>
            RDW بالا: افزایش RDW ممکن است نشانگر نامتعادل بودن اندازه سلول‌های
            خونی باشد. این ممکن است ناشی از مشکلاتی مانند کمبود آهن، کمبود
            ویتامین B12 یا فولات، عفونت‌های خونی، کم‌خونی نورموسیتیک یا سایر
            بیماری‌های خونی باشد. همچنین، بعضی از بیماری‌های کبدی و کلیوی نیز
            ممکن است باعث افزایش RDW شوند.
          </p>
          {% endif %} {% if analysis['RDW'] == 'کم' %}
          <p>
            RDW کم: کمبود RDW ممکن است ناشی از مشکلات خونی خاصی باشد، اما
            معمولاً به عنوان یک علامت غیرنرمال تلقی می‌شود که نیاز به بررسی
            بیشتر دارد. در برخی از موارد، کاهش RDW ممکن است به علت نقص در آزمایش
            یا برخی از شرایط نادر خونی باشد.
          </p>
          {% endif %} {% if analysis['Hemoglobin (Hb)'] == 'کم' %}
          <p>
            Hemoglobin کم: کمبود هموگلوبین معمولاً به عنوان کم‌خونی شناخته
            می‌شود که می‌تواند ناشی از مشکلاتی مانند کمبود آهن، کمبود ویتامین
            B12 یا فولات، خونریزی، بیماری‌های خونی مانند تالاسمیا یا انسداد
            مجاری خونی باشد. کمبود هموگلوبین می‌تواند باعث علائمی مانند خستگی،
            ضعف، ایاق، اشتهای ناپایدار و تنفس سریع شود.
          </p>
          {% endif %} {% if analysis['Hemoglobin (Hb)'] == 'بالا' %}
          <p>
            Hemoglobin بالا: افزایش سطح هموگلوبین ممکن است نشانه افزایش تولید
            خون باشد که معمولاً به عنوان پاسخ به شرایطی مانند فشار خون بالا،
            اقدامات زیاد در فعالیت بدنی، اختلالات تنفسی، سطح هواپایین، یا
            بیماری‌هایی مانند پلی‌سیتمیا یا کم‌خونی همولیتیک می‌باشد. افزایش
            هموگلوبین ممکن است با افزایش ریسک اختلالات قلبی و عروقی مرتبط باشد.
          </p>
          {% endif %} {% if analysis['Total RBC count'] == 'کم' %}
          <p>
            تعداد کم RBC: کمبود تعداد کلی سلول‌های خون قرمز ممکن است به عنوان
            کم‌خونی شناخته شود. علل ممکن شامل کمبود آهن، کمبود ویتامین B12 یا
            فولات، کم‌خونی مگالوبلاستیک (که ناشی از مشکلات نخاع خون است)،
            خونریزی، بیماری‌های کلیوی، یا بیماری‌های خونی مانند لوکمی‌ها یا
            تالاسمیا باشد. کمبود سلول‌های خون قرمز ممکن است باعث ایجاد علائمی
            مانند خستگی، ضعف، ایاق، تنفس سریع و ضربان قلب نامنظم شود.
          </p>
          {% endif %} {% if analysis['Total RBC count'] == 'بالا' %}
          <p>
            تعداد بالای RBC: افزایش تعداد کلی سلول‌های خون قرمز ممکن است به
            عنوان پلی‌سیتمیا شناخته شود. این ممکن است ناشی از عواملی مانند
            زیاده‌روی در تولید سلول‌های خون قرمز به عنوان پاسخ به شرایطی مانند
            فشار خون بالا، تعداد کم خواب، یا اختلالات تنفسی باشد. افزایش تعداد
            سلول‌های خون قرمز ممکن است با افزایش ریسک اختلالات قلبی و عروقی
            همراه باشد.
          </p>
          {% endif %} {% if analysis['Total WBC count'] == 'کم' %}
          <p>
            تعداد کم WBC: کمبود تعداد کلی سلول‌های خون سفید ممکن است به عنوان
            لوکوپنی شناخته شود. این ممکن است ناشی از مشکلاتی مانند عفونت‌های
            ویروسی، کم‌خونی، کمبود ویتامین‌ها (مانند ویتامین B12 یا فولات)،
            بیماری‌های کبدی یا آمیلوئیدوز باشد. کمبود سلول‌های خون سفید ممکن است
            باعث افزایش آسیب در مقابله با عفونت‌ها شود و ریسک عفونت‌های مختلف را
            افزایش دهد.
          </p>
          {% endif %} {% if analysis['Total WBC count'] == 'بالا' %}
          <p>
            تعداد بالای WBC: افزایش تعداد کلی سلول‌های خون سفید ممکن است به
            عنوان لوکوسیتوز شناخته شود. این ممکن است ناشی از عواملی مانند
            عفونت‌ها، التهاب‌ها، استرس، آلرژی‌ها، بیماری‌های خونی (مانند
            لوکمی‌ها)، بیماری‌های التهابی مانند آرتریت روماتوئید، استفاده از
            داروهای خاص (مانند استروئیدها) یا حتی سرطان‌ها باشد.
          </p>
          {% endif %} {% if analysis['Neutrophils'] == 'کم' %}
          <p>
            تعداد کم Neutrophils: کمبود نوتروفیل‌ها ممکن است به عنوان نوتروپنی
            شناخته شود. این ممکن است ناشی از عواملی مانند عفونت‌های باکتریایی،
            ویروسی یا قارچی، کم‌خونی، بیماری‌های خونی مانند لوسمی (سرطان خون)،
            تجربه شیمی درمانی یا تراپی طولانی مدت با داروهای مهارکننده سیستم
            ایمنی (مانند استروئیدها)، یا نقص ایمنی باشد. کمبود نوتروفیل‌ها ممکن
            است باعث افزایش ریسک عفونت‌های جدی شود.
          </p>
          {% endif %} {% if analysis['Neutrophils'] == 'بالا' %}
          <p>
            تعداد بالای Neutrophils: افزایش تعداد نوتروفیل‌ها ممکن است به عنوان
            نوتروفیلی شناخته شود. این ممکن است ناشی از عواملی مانند عفونت‌ها،
            التهاب‌ها، استرس، سوختگی، استفاده از داروهای خاص (مانند استروئیدها)،
            بیماری‌های التهابی مانند آرتریت روماتوئید، یا حتی سرطان‌ها باشد.
            افزایش نوتروفیل‌ها ممکن است نشانه ایمنی بدن در مقابل عفونت‌ها باشد،
            اما در برخی موارد ممکن است به ویژه در شرایط التهابی مزمن، به مشکل
            تبدیل شود.
          </p>
          {% endif %} {% if analysis['Lymphocytes'] == 'کم' %}
          <p>
            تعداد کم Lymphocytes: کمبود لنفوسیت‌ها ممکن است به عنوان لنفوپنی
            شناخته شود. این ممکن است ناشی از عواملی مانند عفونت‌های ویروسی مانند
            هرپس، ایدز، سیتومگالوویروس، یا شرایطی مانند سنگین‌ترین عفونت‌ها،
            استفاده از داروهای خاص (مانند شیمی درمانی)، بیماری‌های خونی، یا
            بیماری‌های خاص سیستم ایمنی باشد. کمبود لنفوسیت‌ها ممکن است باعث
            افزایش ریسک عفونت‌های جدی شود.
          </p>
          {% endif %} {% if analysis['Lymphocytes'] == 'بالا' %}
          <p>
            تعداد بالای Lymphocytes: افزایش تعداد لنفوسیت‌ها ممکن است به عنوان
            لنفوسیتوز شناخته شود. این ممکن است ناشی از عواملی مانند التهاب‌ها،
            عفونت‌ها، استفاده از داروهای خاص (مانند استروئیدها)، تنظیم نامناسب
            سیستم ایمنی، استفاده از داروهای ضد التهاب غیر استروئیدی (NSAIDs)، یا
            بیماری‌های سیستم ایمنی مانند بیماری‌های التهابی مزمن باشد. افزایش
            لنفوسیت‌ها ممکن است نشانه ایمنی بدن در مقابل عفونت‌ها باشد، اما در
            برخی موارد ممکن است به مشکل تبدیل شود.
          </p>
          {% endif %} {% if analysis['Eosinophils'] == 'کم' %}
          <p>
            تعداد کم Eosinophils: کمبود یوزینوفیل‌ها ممکن است به عنوان
            ائوزینوپنی شناخته شود. این ممکن است ناشی از عواملی مانند استفاده از
            داروهای خاص (مانند استروئیدها)، عفونت‌های باکتریایی یا ویروسی، کمبود
            ویتامین B12 یا فولات، بیماری‌های خونی، بیماری‌های خاص سیستم ایمنی،
            یا شرایط استرسی باشد. کمبود یوزینوفیل‌ها ممکن است باعث افزایش ریسک
            برخی از عفونت‌های پارازیتی و آلرژی‌ها شود.
          </p>
          {% endif %} {% if analysis['Eosinophils'] == 'بالا' %}
          <p>
            تعداد بالای Eosinophils: افزایش تعداد یوزینوفیل‌ها ممکن است به عنوان
            ائوزینوفیلی شناخته شود. این ممکن است ناشی از عواملی مانند آلرژی‌ها،
            عفونت‌های پارازیتی، بیماری‌های خاصی مانند برونشیت اسپاسمودیک،
            بیماری‌های خاص سیستم ایمنی، یا استفاده از داروهای خاص (مانند
            استروئیدها) باشد. افزایش یوزینوفیل‌ها ممکن است نشانگر یک واکنش
            التهابی، عفونت یا وجود پارازیت‌ها باشد.
          </p>
          {% endif %} {% if analysis['Monocytes'] == 'کم' %}
          <p>
            تعداد کم Monocytes: کمبود مونوسیت‌ها ممکن است به عنوان مونوپنی
            شناخته شود. این ممکن است ناشی از عواملی مانند عفونت‌های ویروسی یا
            باکتریایی، کم‌خونی، استفاده از داروهای خاص (مانند استروئیدها)، یا
            بیماری‌های خونی باشد. کمبود مونوسیت‌ها ممکن است باعث افزایش ریسک
            عفونت‌های باکتریایی و ویروسی شود.
          </p>
          {% endif %} {% if analysis['Monocytes'] == 'بالا' %}
          <p>
            تعداد بالای Monocytes: افزایش تعداد مونوسیت‌ها ممکن است به عنوان
            مونوسیتوز شناخته شود. این ممکن است ناشی از عواملی مانند التهاب‌ها،
            استرس، بیماری‌های التهابی مزمن، عفونت‌ها، یا تشنج‌های باکتریایی
            باشد. افزایش مونوسیت‌ها ممکن است نشانگر یک واکنش التهابی یا استرس
            بدن باشد.
          </p>
          {% endif %} {% if analysis['Basophils'] == 'کم' %}
          <p>
            تعداد کم Basophils: کمبود بازوفیل‌ها ممکن است به عنوان بازوپنی
            شناخته شود. این ممکن است ناشی از عواملی مانند عفونت‌های ویروسی،
            کمبود تغذیه، استرس، بیماری‌های خونی، یا استفاده از داروهای خاص
            (مانند استروئیدها) باشد. کمبود بازوفیل‌ها ممکن است باعث افزایش ریسک
            عفونت‌های مختلف شود.
          </p>
          {% endif %} {% if analysis['Basophils'] == 'بالا' %}
          <p>
            تعداد بالای Basophils: افزایش تعداد بازوفیل‌ها ممکن است به عنوان
            بازوفیلی شناخته شود. این ممکن است ناشی از عواملی مانند آلرژی‌ها،
            عفونت‌ها، استرس، بیماری‌های التهابی، یا تغییرات هورمونی باشد. افزایش
            بازوفیل‌ها ممکن است نشانگر واکنش التهابی یا آلرژی باشد.
          </p>
          {% endif %} {% if analysis['Platelet Count'] == 'کم' %}
          <p>
            تعداد کم Platelets: کمبود پلاکت‌ها ممکن است به عنوان ترومبوسیتوپنی
            شناخته شود. این ممکن است ناشی از عواملی مانند بیماری‌های خونی مانند
            لوکمی‌ها یا لوپوکیتوز، کمبود ویتامین B12 یا فولات، استفاده از
            داروهای خاص (مانند سیتوتوکسیک‌ها)، بیماری‌های کلیوی، یا بیماری‌های
            التهابی مانند پورپورا باشد. کمبود پلاکت‌ها ممکن است باعث افزایش ریسک
            خونریزی و کاهش نرخ تشکیل لخته شود.
          </p>
          {% endif %} {% if analysis['Platelet Count'] == 'بالا' %}
          <p>
            تعداد بالای Platelets: افزایش تعداد پلاکت‌ها ممکن است به عنوان
            ترومبوسیتوز شناخته شود. این ممکن است ناشی از عواملی مانند التهاب،
            عفونت‌ها، بیماری‌های التهابی مانند آرتریت روماتوئید، بیماری‌های خونی
            مانند پولی‌سیتمیا، استفاده از داروهای خاص (مانند استروئیدها)، یا
            بیماری‌های کلیوی باشد. افزایش پلاکت‌ها ممکن است باعث افزایش ریسک
            تشکیل لخته‌های خونی (ترومبوز) شود.
          </p>
          {% endif %}
        </div>
      </ul>
    </div>
  </body>
</html>
